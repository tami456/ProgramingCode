3Dグラフィクスプログラミングにおいて
「テスト」という言葉が出てきたら、
ある条件を判定して捨てるかどうか決めている

αテスト
深度テスト
がある

αテスト
αが０ならそもそも描画対象にしない（ピクセル塗りつぶさない）

深度テスト
深度バッファ法(そのピクセルの最小深度を求めてそれより遠くなら、
描画しない)に基づいて、深度を判定して
深度が遠いなら、そもそも描画しない

グラフィクスで「テスト」と出てきたら、合格しないと
そもそも描画しない。この判定はピクセルシェーダの後で行われます。

OM(OutputMerger)というのがあって、実際にピクセルを
塗りつぶす(バッファに色値を書き込む)のはPSではなく
OMの仕事である

OMくんは何してるのか、実際に書き込むときにブレンドモード等を見て
もとから書かれてる色と合成したり、書き込み先を決めたりする。

なので、ピクセルでぇーだとブレンドモードは別だと思ってください

OutputMergerのお仕事
BlendModeを見て、バッファに書き込む
αテストを行う
深度テストを行う

pixelShader内でdiscardという命令を出すと、そもそもOutputMerger前に
破棄される
discardで破棄されたピクセルは当然、背景が見えます

これを利用して携帯ゲーム以上での「透明」を表現してることがよくある

αブレンディングの弱点
①重い
②深度バッファと相性が悪すぎる

②の問題解決方法
	1.最初に不透明を深度テストありで全部描画しておく
	　次に半透明を深度テストなしで全部描画しておく

	α値に基づいて、そもそも穴をあける(discardを使う)
	　ディザリング手法等を用いて、αが小さければ穴の数を増やす

もしdiscars判定する場合は、なるべく早めにやったほうが、
処理が少なくて済むので、PSプログラムの最初に検討しておく

ポストエフェクトとは…
いったん描画した結果に対して、エフェクトを行うもの

今時、ポストエフェクトのかかってないゲームなんてないぐらいに
思っていいと思います。






